id: databricks-002
source_url: https://docs.databricks.com/aws/en/getting-started/quick-start
title: Databricks Quick Start Workflow
platforms:
- Databricks
- AWS
description: A beginner-friendly workflow to create a notebook, query a sample table,
  and visualize data in Databricks using Unity Catalog.
prerequisites:
- Workspace must have Unity Catalog enabled
- Permission to use an existing compute resource or create a new compute resource

initial_state:
  catalogs:
    samples:
      name: samples
      owner: system
      type: standard
      comment: Sample datasets provided by Databricks
  schemas:
    samples.nyctaxi:
      catalog_name: samples
      schema_name: nyctaxi
      owner: system
  tables:
    samples.nyctaxi.trips:
      catalog_name: samples
      schema_name: nyctaxi
      table_name: trips
      columns:
      - name: trip_id
        type: STRING
        nullable: false
      - name: fare_amount
        type: DOUBLE
        nullable: true
      - name: trip_distance
        type: DOUBLE
        nullable: true
      - name: pickup_zip
        type: STRING
        nullable: true
      - name: dropoff_zip
        type: STRING
        nullable: true
      data:
      - trip_id: "trip-001"
        fare_amount: 15.50
        trip_distance: 3.2
        pickup_zip: "10001"
        dropoff_zip: "10002"
      - trip_id: "trip-002"
        fare_amount: 22.75
        trip_distance: 5.8
        pickup_zip: "10003"
        dropoff_zip: "10004"
      - trip_id: "trip-003"
        fare_amount: 8.00
        trip_distance: 1.5
        pickup_zip: "10001"
        dropoff_zip: "10005"
      owner: system
  notebooks: {}
  clusters:
    cluster-001:
      cluster_id: cluster-001
      name: quick-start-cluster
      state: RUNNING
      node_type: i3.xlarge
      num_workers: 2
      spark_version: "13.3.x-scala2.12"
  jobs: {}
  permissions: []
  active_catalog: null

goal_state:
  catalogs:
    samples:
      name: samples
      owner: system
      type: standard
      comment: Sample datasets provided by Databricks
  schemas:
    samples.nyctaxi:
      catalog_name: samples
      schema_name: nyctaxi
      owner: system
  tables:
    samples.nyctaxi.trips:
      catalog_name: samples
      schema_name: nyctaxi
      table_name: trips
      columns:
      - name: trip_id
        type: STRING
        nullable: false
      - name: fare_amount
        type: DOUBLE
        nullable: true
      - name: trip_distance
        type: DOUBLE
        nullable: true
      - name: pickup_zip
        type: STRING
        nullable: true
      - name: dropoff_zip
        type: STRING
        nullable: true
      data:
      - trip_id: "trip-001"
        fare_amount: 15.50
        trip_distance: 3.2
        pickup_zip: "10001"
        dropoff_zip: "10002"
      - trip_id: "trip-002"
        fare_amount: 22.75
        trip_distance: 5.8
        pickup_zip: "10003"
        dropoff_zip: "10004"
      - trip_id: "trip-003"
        fare_amount: 8.00
        trip_distance: 1.5
        pickup_zip: "10001"
        dropoff_zip: "10005"
      owner: system
  notebooks:
    /Workspace/Users/user/QuickStartNotebook:
      path: /Workspace/Users/user/QuickStartNotebook
      language: python
      cells:
      - "SELECT * FROM samples.nyctaxi.trips"
      - "VISUALIZATION: type=Bar, x=fare_amount, y=trip_distance, group_by=pickup_zip"
      attached_cluster_id: cluster-001
  clusters:
    cluster-001:
      cluster_id: cluster-001
      name: quick-start-cluster
      state: RUNNING
      node_type: i3.xlarge
      num_workers: 2
      spark_version: "13.3.x-scala2.12"
  jobs: {}
  permissions: []
  active_catalog: samples

steps:
- step_id: 1
  description: Create a new notebook in the Databricks workspace
  method: ui
  sql_command: null
  api_call:
    tool: create_notebook
    parameters:
      path: /Workspace/Users/user/QuickStartNotebook
      language: python
  expected_state_change:
    notebooks:
      /Workspace/Users/user/QuickStartNotebook:
        path: /Workspace/Users/user/QuickStartNotebook
        language: python
        cells: []
        attached_cluster_id: null
  verification:
    check: Notebook appears in workspace sidebar
    method: UI confirmation

- step_id: 2
  description: Attach the notebook to a compute cluster
  method: ui
  sql_command: null
  api_call:
    tool: attach_to_cluster
    parameters:
      notebook_path: /Workspace/Users/user/QuickStartNotebook
      cluster_id: cluster-001
  expected_state_change:
    notebooks:
      /Workspace/Users/user/QuickStartNotebook:
        attached_cluster_id: cluster-001
  verification:
    check: Cluster status shows as attached in notebook UI
    method: UI confirmation

- step_id: 3
  description: Query the samples.nyctaxi.trips table
  method: sql
  sql_command: SELECT * FROM samples.nyctaxi.trips
  api_call:
    tool: run_notebook_cell
    parameters:
      notebook_path: /Workspace/Users/user/QuickStartNotebook
      cell_content: "SELECT * FROM samples.nyctaxi.trips"
  expected_state_change:
    notebooks:
      /Workspace/Users/user/QuickStartNotebook:
        cells:
        - "SELECT * FROM samples.nyctaxi.trips"
  verification:
    check: Query results appear in notebook cell output
    method: UI confirmation

- step_id: 4
  description: Create a visualization of fare amount by trip distance grouped by pickup
    zip
  method: ui
  sql_command: null
  api_call:
    tool: create_visualization
    parameters:
      notebook_path: /Workspace/Users/user/QuickStartNotebook
      visualization_type: Bar
      x_column: fare_amount
      y_column: trip_distance
      group_by: pickup_zip
  expected_state_change:
    notebooks:
      /Workspace/Users/user/QuickStartNotebook:
        cells:
        - "SELECT * FROM samples.nyctaxi.trips"
        - "VISUALIZATION: type=Bar, x=fare_amount, y=trip_distance, group_by=pickup_zip"
  verification:
    check: Visualization appears in notebook under visualization tab
    method: UI confirmation
